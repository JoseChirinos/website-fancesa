<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script src="js/preloadjs-0.6.2.min.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/animate.css">
    <style>
        body{
            margin: 0;
        }
        .container{
            position: relative;
            width: 600px;
            text-align: center;
            z-index: -1;
        }
        .container img{
            position: relative;
            width: 600px;
            margin: 0 auto;
        }
        .loader{
            display: block;
            position: fixed;
            width: 100%;
            height: 100%;
            background: black;
            top: 0;
            left: 0
        }
        .loader-logo{
            position: absolute;
            left: 0;
            right: 0;
            margin: 0 auto;
            top: 35%;
            width: 130px;
        }
        .loader figure{
            position: relative;
            margin: 0 auto;
            top: 40%;
            width: 126px;
            height: 126px;
        }
        .loader figure p{
            position: absolute;
            margin: 0 auto;
            left: 0;
            right: 0;
            color: #fff;
            text-align: center;
            font-size: 25px;
            font-family: sans-serif;
            top: 48px;
        }
        @media (max-width:550px){
            .container{
                width: 100%;
            }
            .container img{
                width: 90%;
            }
            .loader-logo{
                top: 30%
            }
        }
    </style>
</head>
<body>
    <div class="loader">
        <img class="loader-logo" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAV4AAABYCAYAAAC9BZ+zAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYxIDY0LjE0MDk0OSwgMjAxMC8xMi8wNy0xMDo1NzowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNS4xIFdpbmRvd3MiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RDA5MjdCMTg3QTE3MTFFN0I1RjZEQTQ4QUIwRjc5Q0IiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RDA5MjdCMTk3QTE3MTFFN0I1RjZEQTQ4QUIwRjc5Q0IiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpEMDkyN0IxNjdBMTcxMUU3QjVGNkRBNDhBQjBGNzlDQiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpEMDkyN0IxNzdBMTcxMUU3QjVGNkRBNDhBQjBGNzlDQiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Po/xDlMAABG7SURBVHja7J0JmBTF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" alt="">
        <figure>
            <img src="assets/loader_fancesa-black.gif" alt="">
            <p id="percent">
                0%
            </p>
        </figure>
    </div>
    <div class="container">
    </div>
    <script>
        var preload;
        var loader;
        var manifest;

        var container = document.querySelector('.container');

        manifest = [
            {'id':'background',src:'pack-presentation.jpg'},
            "chuquisaca.jpg"
        ];
        /*
        manifest = [
            "pack-transparent.png"
        ];
        */
        preload = new createjs.LoadQueue(true, "assets/");
        preload.on("fileload", handleFileLoad);
		preload.on("progress", handleOverallProgress);
		preload.on("fileprogress", handleFileProgress);
        preload.on("error", handleFileError);
        preload.on("complete", handleComplete);
        preload.setMaxConnections(5);
        
        function stop() {
            if (preload != null) {
                preload.close();
            }
        }
        function loadAll() {
            manifest.forEach(function(el){
                loadAnother(el);
            })
            /*
            while (manifest.length > 0) {
                loadAnother();
            }
            */
        }

        function loadAnother(el) {
            // Get the next manifest item, and load it
            var item = el;
            preload.loadFile(item);
        }
        // Files Complete 
        function handleComplete(event){
            console.info("se completo todo");
            document.querySelector('.loader').setAttribute('class','loader animated fadeOut');

            console.log(preload.getResult('background').getAttribute('src'));
            document.body.style.backgroundImage = 'url('+preload.getResult('background').getAttribute('src')+')';
            /*document.querySelector('.loader').style.display = "none";*/
        }
        // File complete handler
        function handleFileLoad(event) {
            console.log(event);
            console.log('completado');
            console.log(event.result);
            container.appendChild(event.result);
        }

        // File progress handler
        function handleFileProgress(event) {
            console.log(event.progress);
        }
        function handleOverallProgress(event) {
            console.info('general progress',event.progress);
            document.querySelector('#percent').textContent = Math.round(event.progress * 100) + "%";
            /*$("#mainProgress > .progress").width(preload.progress * $("#mainProgress").width());*/
        }
        // An error happened on a file
        function handleFileError(event) {
            console.error('error');
        }
        loadAll();
    </script>
</body>
</html>